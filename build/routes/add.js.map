{"version":3,"sources":["../../src/routes/add.js"],"names":["router","express","Router","post","req","res","next","controllers","validate","request","then","catch","json","error","add","row","addedAt","response","message","respond","end","JSON","stringify","console","log","module","exports"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,IAAP,CACE,GADF,EAEE,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClBC,kBAAYC,QAAZ,CACGC,OADH,CACWL,GADX,EACgBC,GADhB,EAEGK,IAFH,CAEQ;AAAA,WAAMJ,MAAN;AAAA,GAFR,EAGGK,KAHH,CAGS;AAAA,WAASN,IAAIO,IAAJ,CAASC,KAAT,CAAT;AAAA,GAHT;AAID,CAPH,EAQE,UAACT,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClBC,kBAAYO,GAAZ,CACGC,GADH,CACOX,GADP,EACYC,GADZ,EAEGK,IAFH,CAEQ,oBAAY;AAChBL,QAAIW,OAAJ,GAAcC,SAASC,OAAvB;AACAZ;AACD,GALH,EAMGK,KANH,CAMS;AAAA,WAASN,IAAIO,IAAJ,CAASC,KAAT,CAAT;AAAA,GANT;AAOD,CAhBH,EAiBE,UAACT,GAAD,EAAMC,GAAN,EAAc;AACZE,kBAAYY,OAAZ,CAAoBD,OAApB,CAA4Bd,GAA5B,EAAiCC,GAAjC,EAAsCK,IAAtC,CAA2C,mBAAW;AACpDL,QAAIe,GAAJ,CAAQC,KAAKC,SAAL,CAAeJ,OAAf,EAAwB,IAAxB,EAA8B,CAA9B,CAAR;AACAK,YAAQC,GAAR,CAAYN,OAAZ;AACD,GAHD;AAID,CAtBH;;AAyBAO,OAAOC,OAAP,GAAiB1B,MAAjB","file":"add.js","sourcesContent":["import express from 'express';\nimport controllers from '../controllers/index';\n\nconst router = express.Router();\n\nrouter.post(\n  '/',\n  (req, res, next) => {\n    controllers.validate\n      .request(req, res)\n      .then(() => next())\n      .catch(error => res.json(error));\n  },\n  (req, res, next) => {\n    controllers.add\n      .row(req, res)\n      .then(response => {\n        res.addedAt = response.message;\n        next();\n      })\n      .catch(error => res.json(error));\n  },\n  (req, res) => {\n    controllers.respond.message(req, res).then(message => {\n      res.end(JSON.stringify(message, null, 2));\n      console.log(message);\n    });\n  }\n);\n\nmodule.exports = router;\n"]}